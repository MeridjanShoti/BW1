<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Results</title>
    <link rel="stylesheet" href="./assets/css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=swap" rel="stylesheet">
    <style>
        #chart{
            width: 25%;
        }
        .center{
            text-align: center;
        }
        .inlineBlock{
            display: inline-block;
            vertical-align: middle;
        }
        html{
            background-image: url(./assets/img/bg.jpg);
            background-repeat: no-repeat;
            background-size: cover;
            color: #E7E7EB;
        }
        h1,h2{
            font-family: "Outfit", sans-serif;
            margin: 0;
        }
        .big{
            font-size: 5em;
        }
        button {
            border-color: #E7E7EB;
            background-color: #00000000;
            padding: 0.7em 3em;
            color: #E7E7EB;
            font-weight: 700;
            font-size: 1.5em;
        }
        #chart{
            padding: 0.7em 1em;
        }
        div{
            font-family: "Outfit", sans-serif;
        }
        .logoEpicode{
            background-image: url(./assets/img/epicode_logo.png);
            background-repeat: no-repeat;
            background-size: contain;
            height: 5vw;
            width: 15%;
            margin-top: 3em;
        }
        body{
            width: 70vw;
            margin: auto;
        }
    </style>
    
</head>
<body>
<header><div class="logoEpicode"></div></header>
<main>
    <h1 class="center big">Results</h1>
    <h2 class="center">The summary of your answers</h2>
    <div class="center">
        <div class="center inlineBlock big">
            <p>Correct</p>
        </div>
        <div id="chart" class="center inlineBlock big">
            <canvas id="myChart"></canvas>
        </div>
        <div class="center inlineBlock big">
            Wrong
        </div>
    </div>
    <div class="center"><a href="#"><button>RATE US</button></a></div>
    
</main>


    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        let correct = 66.7
        let wrong = 33.3
        let testo1 = [
        { text: "Congratulations!", fontSize: 20, color: "white" }, // Prima riga: grandezza e colore personalizzati
        { text: "You Passed The exam.", fontSize: 20, color: "#00FFFF" },      // Seconda riga: grandezza e colore diversi
        { text: "We'll send you the certificate in few minutes. ", fontSize: 16, color: "#E7E7EB" }, // Terza riga: altra grandezza e colore
        { text: "Check your email (including promotions / spam folder) ", fontSize: 16, color: "#E7E7EB" }
    ]
        const ctx = document.getElementById('myChart');
      
        new Chart(ctx, {
        type: 'doughnut',
        data: {
            datasets: [{
                label: 'answers',
                data: [wrong, correct],
                borderWidth: 0,
                backgroundColor: ["#C2128D", "#00FFFF"]
            }]
        },
        options: {
            cutout: '70%',
        },
        plugins: [{
            id: 'text',
            beforeDraw: function(chart) {
                const ctx = chart.ctx;
                const { width, height } = chart.chartArea;

                ctx.restore();
                ctx.textBaseline = "middle";
                ctx.textAlign = "center"; // Centrare il testo orizzontalmente
                // Calcolo posizione di partenza (linea centrale)
                const textY = height / 2;
                const lineHeight = 25; // Spaziatura verticale tra le righe

                // Disegno ogni riga con stile differente
                testo1.forEach((line, index) => {
                    ctx.font = `${line.fontSize}px Arial`; // Imposta la dimensione del font per ogni riga
                    ctx.fillStyle = line.color;          // Imposta il colore per ogni riga
                    ctx.fillText(line.text, width / 2, textY + (index - 1) * lineHeight);
                });

                ctx.save();
            }
        }]
    });
  

      </script>
    <script src="./assets/js/script.js"></script>
</body>
</html>